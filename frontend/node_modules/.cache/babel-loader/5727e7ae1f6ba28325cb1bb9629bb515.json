{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\follo\\\\Development\\\\Comic-Book-Reader\\\\project\\\\frontend\\\\src\\\\components\\\\SeriesPage.jsx\";\nimport React from 'react';\nimport { Checkbox } from '@material-ui/core';\nimport ComicBook from './ComicBook';\nimport ChapterSelector from './ChapterSelector';\nimport Backend from '../api/Backend';\n\nclass SeriesPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      pageId: null,\n      seriesId: null,\n      chapterId: null,\n      skipNonChapter: false\n    };\n  }\n\n  async componentDidMount() {\n    const seriesId = await Backend.Series.getByName(this.props.seriesName).id;\n    this.setState({\n      seriesId\n    });\n\n    if (localStorage['lastPage']) {\n      this.setState({\n        pageId: localStorage['lastPage']\n      });\n    }\n\n    if (localStorage['skipNonChapter']) {\n      this.setState({\n        skipNonChapter: localStorage['skipNonChapter']\n      });\n    }\n  }\n\n  onChapterChanged(chapter) {\n    this.setState({\n      chapter: chapter\n    });\n  }\n\n  onClickSkipNonChapter(checked) {// dunno if i need this XXX\n  }\n\n  onPageChanged(page) {\n    this.setState({\n      chapter: page.chapter\n    });\n    localStorage['pageId'] = page.id;\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(ComicBook, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }), React.createElement(Checkbox, {\n      onChange: e => this.setState({\n        skipNonChapter: e.target.checked\n      }),\n      checked: this.state.skipNonChapter,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }), \"Skip Non-Chapter pages\", React.createElement(ChapterSelector, {\n      series: this.state.seriesId,\n      selected: this.state.chapter,\n      onChapterChanged: this.onChapterChanged.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default SeriesPage;","map":{"version":3,"sources":["C:/Users/follo/Development/Comic-Book-Reader/project/frontend/src/components/SeriesPage.jsx"],"names":["React","Checkbox","ComicBook","ChapterSelector","Backend","SeriesPage","Component","constructor","props","state","pageId","seriesId","chapterId","skipNonChapter","componentDidMount","Series","getByName","seriesName","id","setState","localStorage","onChapterChanged","chapter","onClickSkipNonChapter","checked","onPageChanged","page","render","e","target","bind"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,mBAAzB;AAEA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,OAAOC,OAAP,MAAoB,gBAApB;;AAEA,MAAMC,UAAN,SAAyBL,KAAK,CAACM,SAA/B,CACA;AACIC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,MAAM,EAAE,IADC;AAETC,MAAAA,QAAQ,EAAE,IAFD;AAGTC,MAAAA,SAAS,EAAE,IAHF;AAITC,MAAAA,cAAc,EAAE;AAJP,KAAb;AAMH;;AAED,QAAMC,iBAAN,GAAyB;AACrB,UAAMH,QAAQ,GAAG,MAAMP,OAAO,CAACW,MAAR,CAAeC,SAAf,CAAyB,KAAKR,KAAL,CAAWS,UAApC,EAAgDC,EAAvE;AACA,SAAKC,QAAL,CAAc;AAACR,MAAAA;AAAD,KAAd;;AAEA,QAAGS,YAAY,CAAC,UAAD,CAAf,EAA4B;AACxB,WAAKD,QAAL,CAAc;AAACT,QAAAA,MAAM,EAAEU,YAAY,CAAC,UAAD;AAArB,OAAd;AACH;;AACD,QAAGA,YAAY,CAAC,gBAAD,CAAf,EAAkC;AAC9B,WAAKD,QAAL,CAAc;AAACN,QAAAA,cAAc,EAAEO,YAAY,CAAC,gBAAD;AAA7B,OAAd;AACH;AAEJ;;AAEDC,EAAAA,gBAAgB,CAACC,OAAD,EAAS;AACrB,SAAKH,QAAL,CAAc;AAACG,MAAAA,OAAO,EAAEA;AAAV,KAAd;AACH;;AAEDC,EAAAA,qBAAqB,CAACC,OAAD,EAAS,CAC1B;AACH;;AAEDC,EAAAA,aAAa,CAACC,IAAD,EAAM;AACf,SAAKP,QAAL,CAAc;AACVG,MAAAA,OAAO,EAAEI,IAAI,CAACJ;AADJ,KAAd;AAGAF,IAAAA,YAAY,CAAC,QAAD,CAAZ,GAAyBM,IAAI,CAACR,EAA9B;AACH;;AAEDS,EAAAA,MAAM,GAAE;AACJ,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI,oBAAC,QAAD;AACI,MAAA,QAAQ,EAAGC,CAAD,IAAO,KAAKT,QAAL,CAAc;AAACN,QAAAA,cAAc,EAAEe,CAAC,CAACC,MAAF,CAASL;AAA1B,OAAd,CADrB;AAEI,MAAA,OAAO,EAAE,KAAKf,KAAL,CAAWI,cAFxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,4BAKI,oBAAC,eAAD;AACI,MAAA,MAAM,EAAE,KAAKJ,KAAL,CAAWE,QADvB;AAEI,MAAA,QAAQ,EAAE,KAAKF,KAAL,CAAWa,OAFzB;AAGI,MAAA,gBAAgB,EAAE,KAAKD,gBAAL,CAAsBS,IAAtB,CAA2B,IAA3B,CAHtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALJ,CADJ;AAYH;;AApDL;;AAwDA,eAAezB,UAAf","sourcesContent":["import React from 'react';\r\nimport { Checkbox } from '@material-ui/core';\r\n\r\nimport ComicBook from './ComicBook';\r\nimport ChapterSelector from './ChapterSelector';\r\nimport Backend from '../api/Backend';\r\n\r\nclass SeriesPage extends React.Component\r\n{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            pageId: null,\r\n            seriesId: null,\r\n            chapterId: null,\r\n            skipNonChapter: false\r\n        };\r\n    }\r\n\r\n    async componentDidMount(){\r\n        const seriesId = await Backend.Series.getByName(this.props.seriesName).id;\r\n        this.setState({seriesId});\r\n\r\n        if(localStorage['lastPage']){\r\n            this.setState({pageId: localStorage['lastPage']})\r\n        }\r\n        if(localStorage['skipNonChapter']){\r\n            this.setState({skipNonChapter: localStorage['skipNonChapter']})\r\n        }\r\n        \r\n    }\r\n\r\n    onChapterChanged(chapter){\r\n        this.setState({chapter: chapter});\r\n    }\r\n\r\n    onClickSkipNonChapter(checked){\r\n        // dunno if i need this XXX\r\n    }\r\n\r\n    onPageChanged(page){\r\n        this.setState({\r\n            chapter: page.chapter,\r\n        });\r\n        localStorage['pageId'] = page.id;\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div>\r\n                <ComicBook />\r\n                <Checkbox \r\n                    onChange={(e) => this.setState({skipNonChapter: e.target.checked})} \r\n                    checked={this.state.skipNonChapter}/>Skip Non-Chapter pages\r\n                <ChapterSelector\r\n                    series={this.state.seriesId}\r\n                    selected={this.state.chapter}\r\n                    onChapterChanged={this.onChapterChanged.bind(this)}/>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default SeriesPage;"]},"metadata":{},"sourceType":"module"}